(function(t){function e(e){for(var r,s,o=e[0],u=e[1],c=e[2],f=0,p=[];f<o.length;f++)s=o[f],i[s]&&p.push(i[s][0]),i[s]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(t[r]=u[r]);l&&l(e);while(p.length)p.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],r=!0,o=1;o<n.length;o++){var u=n[o];0!==i[u]&&(r=!1)}r&&(a.splice(e--,1),t=s(s.s=n[0]))}return t}var r={},i={app:0},a=[];function s(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=r,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(n,r,function(e){return t[e]}.bind(null,r));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/reversi/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var l=u;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var r=n("64a9"),i=n.n(r);i.a},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("097d");var r=n("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("h1",[t._v("Reversi")]),n("Player"),n("div",{staticClass:"game"},[n("Board"),n("Score")],1)],1)},a=[],s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h2",[t._v("Current player "+t._s(t.game.currentPlayer))])},o=[],u=n("2909"),c=(n("6c7b"),"EMPTY"),l="BLACK",f="WHITE",p=8,v={state:[],initGame:function(){this.state=Array(p).fill([]).map(function(){return Array(p).fill(c)}),this.setState(3,3,f),this.setState(3,4,l),this.setState(4,3,l),this.setState(4,4,f),this.setPlayer(l)},setState:function(t,e,n){this.state[t].splice(e,1,n)},getState:function(t,e){return this.isInBounds(t,e)?this.state[t][e]:null},isInBounds:function(t,e){return t>=0&&t<p&&e>=0&&e<p},setPlayer:function(t){this.currentPlayer=t},getOpponent:function(){return this.currentPlayer===l?f:l},getScore:function(t){return this.state.reduce(function(e,n){return e+n.filter(function(e){return e===t}).length},0)},isValid:function(t,e){if(this.getState(t,e)!==c)return!1;for(var n=-1;n<=1;n++)for(var r=-1;r<=1;r++){var i=t+n,a=e+r;if(this.isOk(i,a,n,r))return!0}return!1},isOk:function(t,e,n,r){var i=!1;while(this.getState(t,e)===this.getOpponent())i=!0,t+=n,e+=r;return!(!i||this.getState(t,e)!==this.currentPlayer)},switchTiles:function(t,e){var n=this;this.setState(t,e,this.currentPlayer);for(var r=function(r){for(var i=function(i){var a=t+r,s=e+i,o=[],c=[];while(n.getState(a,s)===n.getOpponent())o.push([a,s]),a+=r,s+=i;o.forEach(function(t){n.isOk.apply(n,Object(u["a"])(t).concat([r,i]))&&c.push(t)}),c.forEach(function(t){return n.setState.apply(n,Object(u["a"])(t).concat([n.currentPlayer]))})},a=-1;a<=1;a++)i(a)},i=-1;i<=1;i++)r(i)},play:function(t,e){this.isValid(t,e)&&(this.switchTiles(t,e),this.setPlayer(this.getOpponent()))}},d={name:"RPlayer",data:function(){return{game:v}}},h=d,_=(n("6131"),n("2877")),y=Object(_["a"])(h,s,o,!1,null,null,null);y.options.__file="Player.vue";var b=y.exports,g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("table",{attrs:{id:"board"}},t._l(t.game.state,function(e,r){return n("tr",{key:r},[n("th",{staticClass:"row"},[t._v(t._s(r))]),t._l(t.game.state[r],function(e,i){return n("td",{key:i},[r?t._e():n("th",{staticClass:"col"},[t._v(t._s(i))]),n("Tile",{attrs:{state:{i:r,j:i}},on:{onClickTile:function(e){t.game.play(r,i)}}})],1)})],2)}))},m=[],S=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tile",class:{valid:t.valid},on:{click:function(e){t.valid=!1,t.$emit("onClickTile")},mouseenter:function(e){t.valid=t.tileValidity},mouseleave:function(e){t.valid=!1}}},[n("div",{class:t.tileState})])},O=[],P={name:"RTile",props:{state:Object},data:function(){return{game:v,valid:!1}},computed:{tileState:function(){return v.getState(this.state.i,this.state.j)},tileValidity:function(){return v.isValid(this.state.i,this.state.j)}}},j=P,T=(n("a03b"),Object(_["a"])(j,S,O,!1,null,null,null));T.options.__file="Tile.vue";var w=T.exports,C={name:"RBoard",components:{Tile:w},data:function(){return{game:v}}},E=C,k=(n("b2e8"),Object(_["a"])(E,g,m,!1,null,null,null));k.options.__file="Board.vue";var x=k.exports,B=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"score"},[n("div",{staticClass:"player"},[t._v("⚫ "+t._s(t.BLACK)+" "+t._s(t.game.getScore(t.BLACK)))]),n("div",{staticClass:"player"},[t._v("⚪ "+t._s(t.WHITE)+" "+t._s(t.game.getScore(t.WHITE)))])])},A=[],$={name:"RScore",data:function(){return{game:v,BLACK:l,WHITE:f}}},I=$,M=(n("5b06"),Object(_["a"])(I,B,A,!1,null,null,null));M.options.__file="Score.vue";var R=M.exports,V={name:"app",components:{Player:b,Board:x,Score:R},beforeCreate:function(){v.initGame()}},H=V,K=(n("034f"),Object(_["a"])(H,i,a,!1,null,null,null));K.options.__file="App.vue";var L=K.exports;r["a"].config.productionTip=!1,new r["a"]({render:function(t){return t(L)}}).$mount("#app")},"5b06":function(t,e,n){"use strict";var r=n("778d"),i=n.n(r);i.a},6131:function(t,e,n){"use strict";var r=n("bf75"),i=n.n(r);i.a},"64a9":function(t,e,n){},"778d":function(t,e,n){},a03b:function(t,e,n){"use strict";var r=n("ec07"),i=n.n(r);i.a},b2e8:function(t,e,n){"use strict";var r=n("dcc5"),i=n.n(r);i.a},bf75:function(t,e,n){},dcc5:function(t,e,n){},ec07:function(t,e,n){}});
//# sourceMappingURL=app.f844c736.js.map